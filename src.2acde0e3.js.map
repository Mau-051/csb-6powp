{"version":3,"sources":["src/index.js"],"names":["URL","init","render","markup","document","getElementById","innerHTML","getGames","fetch","then","res","json","data","result","i","length","game","id","name","catch","error","addEventListener","e","code","console","log","target","value","gameData","method","mode","cache","headers","body","JSON","stringify","alert","postGame"],"mappings":";;;AAyEI,aAzEJ,QAAA,gBAEA,IAAMA,EAAM,wBAEZ,SAASC,IACEC,SAAAA,EAAOC,GACdA,EACEA,GADF,0QAUAC,SAASC,eAAe,OAAOC,UAAYH,EAmBpCI,SAAAA,IACPC,MAASR,GAAAA,OAAAA,EAAT,WACGS,KAAK,SAACC,GAAQA,OAAAA,EAAIC,SAClBF,KAAK,SAACE,GAGA,IAFGC,IAAAA,EAASD,EAATC,KACJC,EAAS,GACJC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CAC9BE,IAAAA,EAAOJ,EAAKE,GAClBD,GAAiBG,OAAAA,OAAAA,EAAKC,GAAQD,OAAAA,OAAAA,EAAKE,KAAnC,qIAGFhB,EAAcW,OAAAA,OAAAA,EAAd,YAEDM,MAAM,SAACC,GACNlB,EAAA,+BAINK,IAEkBH,SAASC,eAAe,cAEhCgB,iBAAiB,UAAW,SAACC,GACjCA,GAAW,UAAXA,EAAEC,KAAkB,CACtBC,QAAQC,IAAIH,EAAEI,OAAOC,OACbA,IAAAA,EAAUL,EAAEI,OAAZC,OAzCMX,EA0CLW,EAzCLC,EAAW,CACfZ,KAAAA,GAGKR,MAAM,8BAA+B,CAC1CqB,OAAQ,OACRC,KAAM,OACNC,MAAO,WACPC,QAAS,CACS,eAAA,oBAElBC,KAAMC,KAAKC,UAAUP,MA+BlBnB,KAAK,WACJa,EAAEI,OAAOC,MAAQ,GACjBpB,MAEDY,MAAM,SAACC,GACNgB,MAAM,6BAhDLC,IAASrB,EACVY,IAqDV3B","file":"src.2acde0e3.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nconst URL = \"http://localhost:3000\";\n\nfunction init() {\n  function render(markup) {\n    markup =\n      markup ||\n      `\n    <h1>Hello Vanilla!</h1>\n    <div>\n      We use the same configuration as Parcel to bundle this sandbox, you can find more\n      info about Parcel \n      <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n    </div>\n    `;\n    document.getElementById(\"app\").innerHTML = markup;\n  }\n\n  function postGame(game) {\n    const gameData = {\n      game\n    };\n\n    return fetch(\"http://localhost:3000/games\", {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(gameData)\n    });\n  }\n\n  function getGames() {\n    fetch(`${URL}/games`)\n      .then((res) => res.json())\n      .then((json) => {\n        const { data } = json;\n        let result = \"\";\n        for (let i = 0; i < data.length; i++) {\n          const game = data[i];\n          result += `<li>${game.id} - ${game.name}<div class=\"button-container\"><button type=\"button\" class=\"edit\">ðŸ–Š</button><button type=\"button\" class=\"delete\">X</button></div>`;\n        }\n\n        render(`<ul>${result}</ul>`);\n      })\n      .catch((error) => {\n        render(`<h2>Cannot get games</h2>`);\n      });\n  }\n\n  getGames();\n\n  const gameInput = document.getElementById(\"game-input\");\n\n  gameInput.addEventListener(\"keydown\", (e) => {\n    if (e.code === \"Enter\") {\n      console.log(e.target.value);\n      const { value } = e.target;\n      postGame(value)\n        .then(() => {\n          e.target.value = \"\";\n          getGames();\n        })\n        .catch((error) => {\n          alert(\"Cannot post game to API\");\n        });\n    }\n  });\n}\n\ninit();\n"]}